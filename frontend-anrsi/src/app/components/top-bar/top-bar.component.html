<div class="top-bar" [class.scrolled]="scrolled">
  <div class="top-bar-container">
    <!-- Desktop Layout -->
    <div class="desktop-layout">
      <!-- Contact info -->
      <div class="contact-info">
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <span>{{ 'TÃ©l' | translate }}: +222 45 25 44 21</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <span>info@anrsi.mr</span>
        </div>
        |
      </div>

      <!-- Quick links -->
      <div class="quick-links">
        <a routerLink="/ai4agri" class="quick-link">{{ 'AI 4 AGRI' | translate }}</a>
        <a routerLink="/expert-anrsi" class="quick-link">{{ 'Expert Ã  l\'ANRSI' | translate }}</a>
        <a routerLink="/appels-candidatures" class="quick-linked">{{ 'Appels Ã  Candidatures' | translate }}</a>
        <a routerLink="/plateformes" class="quick-link">{{ 'Plateformes' | translate }}</a>
        <a routerLink="/zone-humide" class="quick-link">{{ 'Zone Humide' | translate }}</a>
        <a routerLink="/agence-medias" class="quick-link">{{ 'Agence dans MÃ©dias' | translate }}</a>
      </div>

      <!-- Language switcher -->
      <div class="top-actions">
        <div class="language-dropdown">
          <button 
            class="lang-dropdown-btn" 
            (click)="toggleLangDropdown()"
            [class.active]="isLangDropdownOpen">
            <span class="lang-flag">{{ getLanguageFlag(currentLang) }}</span>
            <span class="lang-text">{{ getLanguageName(currentLang) }}</span>
            <i class="fas fa-chevron-down" [class.rotated]="isLangDropdownOpen"></i>
          </button>
          <div class="lang-dropdown-menu" [class.show]="isLangDropdownOpen">
            <button 
              class="lang-option"
              [class.active]="currentLang === 'fr'"
              (click)="switchLanguage('fr')">
              <span class="lang-flag">ðŸ‡«ðŸ‡·</span>
              <span class="lang-code">FR</span>            
            </button>
            <button 
              class="lang-option"
              [class.active]="currentLang === 'ar'"
              (click)="switchLanguage('ar')">
              <span class="lang-flag">ðŸ‡²ðŸ‡·</span>
              <span class="lang-code">AR</span>              
            </button>
            <button 
              class="lang-option"
              [class.active]="currentLang === 'en'"
              (click)="switchLanguage('en')">
              <span class="lang-flag">ðŸ‡ºðŸ‡¸</span>
              <span class="lang-code">EN</span>            
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Layout -->
    <div class="mobile-layout">
      <div class="mobile-header">
        <!-- Contact info (mobile) -->
        <div class="mobile-contact">
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>+222 45 25 44 21</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>info@anrsi.mr</span>
          </div>
        </div>

        <!-- Language switcher and Menu toggle (mobile) -->
        <div class="mobile-actions">
          <div class="language-dropdown">
            <button 
              class="lang-dropdown-btn mobile" 
              (click)="toggleLangDropdown()"
              [class.active]="isLangDropdownOpen"
              id="mobile-lang-dropdown-btn"
              type="button"
              [attr.aria-label]="'Select language' | translate"
              [attr.aria-expanded]="isLangDropdownOpen">
              <span class="lang-flag">{{ getLanguageFlag(currentLang) }}</span>
              <span class="lang-code">{{ getLanguageName(currentLang) }}</span>
              <i class="fas fa-chevron-down" [class.rotated]="isLangDropdownOpen" aria-hidden="true"></i>
            </button>
            <div 
              class="lang-dropdown-menu mobile" 
              [class.show]="isLangDropdownOpen"
              role="menu"
              [attr.aria-hidden]="!isLangDropdownOpen">
              <button 
                class="lang-option"
                [class.active]="currentLang === 'fr'"
                (click)="switchLanguage('fr')"
                id="lang-option-fr"
                type="button"
                role="menuitem">
                <span class="lang-flag" aria-hidden="true">ðŸ‡«ðŸ‡·</span>
                <span class="lang-code">FR</span>
              </button>
              <button 
                class="lang-option"
                [class.active]="currentLang === 'ar'"
                (click)="switchLanguage('ar')"
                id="lang-option-ar"
                type="button"
                role="menuitem">
                <span class="lang-flag" aria-hidden="true">ðŸ‡²ðŸ‡·</span>
                <span class="lang-code">AR</span>
              </button>
              <button 
                class="lang-option"
                [class.active]="currentLang === 'en'"
                (click)="switchLanguage('en')"
                id="lang-option-en"
                type="button"
                role="menuitem">
                <span class="lang-flag" aria-hidden="true">ðŸ‡ºðŸ‡¸</span>
                <span class="lang-code">EN</span>
              </button>
            </div>
          </div>

          <!-- Mobile Menu Toggle -->
          <button 
            class="mobile-menu-toggle" 
            (click)="toggleMobileMenu($event)" 
            [class.active]="isMobileMenuOpen" 
            type="button"
            id="mobile-menu-toggle-btn"
            [attr.aria-label]="'Toggle menu' | translate"
            [attr.aria-expanded]="isMobileMenuOpen">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </button>
        </div>
      </div>

      <!-- Mobile Quick Links -->
      <div class="mobile-quick-links" [class.expanded]="isMobileMenuOpen">
        <a routerLink="/ai4agri" class="mobile-quick-link" (click)="closeMobileMenu($event)">{{ 'AI 4 AGRI' | translate }}</a>
        <a routerLink="/expert-anrsi" class="mobile-quick-link" (click)="closeMobileMenu($event)">{{ 'Expert Ã  l\'ANRSI' | translate }}</a>
        <a routerLink="/appels-candidatures" class="mobile-quick-link" (click)="closeMobileMenu($event)">{{ 'Appels Ã  Candidatures' | translate }}</a>
        <a routerLink="/plateformes" class="mobile-quick-link" (click)="closeMobileMenu($event)">{{ 'Plateformes' | translate }}</a>
        <a routerLink="/zone-humide" class="mobile-quick-link" (click)="closeMobileMenu($event)">{{ 'Zone Humide' | translate }}</a>
        <a routerLink="/agence-medias" class="mobile-quick-link" (click)="closeMobileMenu($event)">{{ 'Agence dans MÃ©dias' | translate }}</a>
      </div>
    </div>
  </div>
</div>